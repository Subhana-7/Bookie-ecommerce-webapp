<!DOCTYPE html>
<html lang="en">
    <%-include("../../views/partials/user/header")%>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Address</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 1px solid #ddd;
        }
        .header {
            text-align: center;
            color: #800000;
            margin-bottom: 20px;
        }
        .btn-maroon {
            background-color: #800000 !important;
            color: #fff !important;
            border: none;
        }
        .btn-maroon:hover {
            background-color: #a00000 !important;
        }
        label {
            font-weight: bold;
        }
        .error-message {
            color: red;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

<div class="container">
    <h2 class="header">Add New Address</h2>
    <form action="/add-address" method="POST" id="addressForm">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" class="form-control" required minlength="3" maxlength="100" pattern="[A-Za-z\s]+" title="Only alphabetic characters and spaces are allowed.">
            <small class="error-message" id="nameError"></small>
        </div>

        <div class="form-group">
            <label for="addressType">Address Type:</label>
            <select id="addressType" name="addressType" class="form-control" required>
                <option value="Home">Home</option>
                <option value="Office">Office</option>
            </select>
        </div>

        <div class="form-group">
            <label for="streetName">Street Name:</label>
            <input type="text" id="streetName" name="streetName" class="form-control" required>
            <small class="error-message" id="streetNameError"></small>
        </div>

        <div class="form-group">
            <label for="landmark">Landmark:</label>
            <input type="text" id="landmark" name="landmark" class="form-control" required>
            <small class="error-message" id="landmarkError"></small>
        </div>

        <div class="form-group">
            <label for="locality">Locality:</label>
            <input type="text" id="locality" name="locality" class="form-control" required>
            <small class="error-message" id="localityError"></small>
        </div>

        <div class="form-group">
            <label for="city">City:</label>
            <input type="text" id="city" name="city" class="form-control" required>
            <small class="error-message" id="cityError"></small>
        </div>

        <div class="form-group">
            <label for="state">State:</label>
            <input type="text" id="state" name="state" class="form-control" required>
            <small class="error-message" id="stateError"></small>
        </div>

        <div class="form-group">
            <label for="pin">Pin Code:</label>
            <input type="text" id="pin" name="pin" class="form-control" required pattern="^\d{6}$">
            <small class="error-message" id="pinError"></small>
        </div>

        <div class="form-group">
            <label for="contactNo">Contact Number:</label>
            <input type="text" id="contactNo" name="contactNo" class="form-control" required pattern="^\d{10}$">
            <small class="error-message" id="contactNoError"></small>
        </div>

        <button type="submit" class="btn btn-maroon btn-block">Add Address</button>
    </form>

    <div class="text-center mt-3">
        <a href="/profile" class="btn btn-link">Cancel</a>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>

    document.getElementById('addressForm').addEventListener('submit', function(event) {
        let isValid = true;

        const name = document.getElementById('name').value;
        const namePattern = /^[A-Za-z\s]+$/;
        if (!name.match(namePattern)) {
            document.getElementById('nameError').textContent = 'Name should contain only alphabetic characters and spaces.';
            isValid = false;
        } else {
            document.getElementById('nameError').textContent = '';
        }


        const streetName = document.getElementById('streetName').value;
        if (streetName.trim() === '') {
            document.getElementById('streetNameError').textContent = 'Street name is required.';
            isValid = false;
        } else {
            document.getElementById('streetNameError').textContent = '';
        }


        const landmark = document.getElementById('landmark').value;
        if (landmark.trim() === '') {
            document.getElementById('landmarkError').textContent = 'Landmark is required.';
            isValid = false;
        } else {
            document.getElementById('landmarkError').textContent = '';
        }

        const locality = document.getElementById('locality').value;
        if (locality.trim() === '') {
            document.getElementById('localityError').textContent = 'Locality is required.';
            isValid = false;
        } else {
            document.getElementById('localityError').textContent = '';
        }

        const city = document.getElementById('city').value;
        if (city.trim() === '') {
            document.getElementById('cityError').textContent = 'City is required.';
            isValid = false;
        } else {
            document.getElementById('cityError').textContent = '';
        }

        const state = document.getElementById('state').value;
        if (state.trim() === '') {
            document.getElementById('stateError').textContent = 'State is required.';
            isValid = false;
        } else {
            document.getElementById('stateError').textContent = '';
        }

        const pin = document.getElementById('pin').value;
        const pinPattern = /^\d{6}$/;
        if (!pin.match(pinPattern)) {
            document.getElementById('pinError').textContent = 'Pin code must be a 6-digit number.';
            isValid = false;
        } else {
            document.getElementById('pinError').textContent = '';
        }

        const contactNo = document.getElementById('contactNo').value;
        const contactPattern = /^\d{10}$/;
        if (!contactNo.match(contactPattern)) {
            document.getElementById('contactNoError').textContent = 'Contact number must be a 10-digit number.';
            isValid = false;
        } else {
            document.getElementById('contactNoError').textContent = '';
        }

        if (!isValid) {
            event.preventDefault();
        }
    });
</script>
</body>
</html>
